import{r as o,u as v,c as I,e as k,p as P,q as x,t as W,j as s,L as g,C as j,S as A,w as F}from"./index-e2f6fba7.js";import{u as M,W as U,C as B,E as r,I as w,a as f,b as q,c as D,P as G,o as H,s as R}from"./PlatformMost.lazy-93dcd956.js";import{e as T,a as Y}from"./eyeHide-c6edb72e.js";const Q=({closeModalLogin:b})=>{var c,m,d,p,u,h;const[t,y]=o.useState(!1),{loading:E,userInfo:i,error:n,message:z}=v(I),a=k(),S=P(),{register:l,handleSubmit:N,formState:{errors:e},reset:_}=M({mode:"onBlur",resolver:H(R)});o.useEffect(()=>{i&&(a(x(null)),b())},[S,i]);const C=async L=>{a(F(L)),_()};return o.useEffect(()=>()=>{a(W(null)),a(x(null))},[]),s.jsxs(U,{children:[s.jsxs(B,{children:[s.jsx("h2",{children:"Welcome Back"}),n&&s.jsx(r,{className:"error-login",visible:n,children:n}),s.jsxs("form",{onSubmit:N(C),children:[s.jsxs(w,{children:[((c=e==null?void 0:e.user_name)==null?void 0:c.message)&&s.jsx(r,{visible:(m=e==null?void 0:e.user_name)==null?void 0:m.message,children:(d=e==null?void 0:e.user_name)==null?void 0:d.message}),s.jsx(f,{...l("user_name"),placeholder:"User name"})]}),s.jsxs(w,{children:[((p=e==null?void 0:e.password)==null?void 0:p.message)&&s.jsx(r,{visible:(u=e==null?void 0:e.password)==null?void 0:u.message,children:(h=e==null?void 0:e.password)==null?void 0:h.message}),s.jsxs(q,{children:[s.jsx(f,{type:t?"text":"password",...l("password"),placeholder:"Password",autoComplete:"on"}),s.jsx(D,{className:"show-reset-password",onClick:()=>y(!t),children:t?s.jsx("img",{src:T,className:"show-password-eye",alt:"show password eye"}):s.jsx("img",{src:Y,className:"hide-password-eye",alt:"hide password eye"})}),s.jsx(g,{to:j,target:"_blank",className:"callAgent",children:"Forgot password"})]})]}),s.jsx("button",{type:"submit",children:E?s.jsx(A,{}):"Login"}),s.jsxs("p",{className:"info",children:["You can Sign Up",s.jsx(g,{to:j,target:"_blank",children:"here"}),"."]})]})]}),s.jsx(G,{})]})};export{Q as default};
